---
import en from '../../../i18n/en';
import es from '../../../i18n/es';
import Layout from '../../../layouts/Layout.astro';
import Information from '../../../sections/Information.astro';
import Hero from '../../../sections/services/Hero.astro';
import Included from '../../../sections/services/Included.astro';
import Process from '../../../sections/services/Process.astro';
import type { Language } from '../../../types/language.type';

export function getStaticPaths() {
  const services = [
    'mobile-dog-grooming',
    'mobile-cat-grooming',
  ];
  const languages = ['es', 'en'];

  return languages.flatMap((lang) =>
    services.map((service) => ({
      params: { lang, service },
    }))
  );
}

export const defaultRedirect = '/en';

const { lang, service } = Astro.params as { lang: Language; service: string };
const translations = { es, en };
const t = translations[lang];
const serviceData = t.services[service as keyof typeof t.services];
---

<Layout lang={lang} t={t}>
  <Hero content={serviceData.hero} />
  <Included content={serviceData.included}/>
  <Process content={serviceData.process} />
  <Information content={serviceData.information}/>
</Layout>
